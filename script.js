const formURL="https://docs.google.com/forms/d/e/1FAIpQLSc7L0-8TQxpw0EL3BEDufG5YOesOOO1Y1VtYeHWxu3zaIqnwQ/formResponse";let muted=false,PASSWORD="admin123";window.onload=function(){localStorage.getItem("loggedIn")==="true"?showScanner():showLogin()};function showLogin(){document.getElementById("login-form").style.display="block",document.getElementById("scanner-section").style.display="none"}function showScanner(){document.getElementById("login-form").style.display="none",document.getElementById("scanner-section").style.display="block"}function login(){document.getElementById("passwordInput").value===PASSWORD?(localStorage.setItem("loggedIn","true"),showScanner()):alert("âŒ Incorrect password.")}function logout(){localStorage.removeItem("loggedIn"),showLogin()}function toggleMute(){muted=!muted,document.getElementById("muteBtn").textContent=muted?"ðŸ”‡ Sound OFF":"ðŸ”Š Sound ON"}function startScan(){document.getElementById("reader").style.display="block";const e=new Html5Qrcode("reader");e.start({facingMode:"environment"},{fps:10,qrbox:250},t=>{document.getElementById("barcode").value=t,e.stop(),document.getElementById("reader").style.display="none"},()=>{}).catch(e=>alert("Camera error: "+e))}function submitData(){const e=document.getElementById("barcode").value.trim(),t=document.getElementById("productName").value.trim(),n=document.getElementById("quantity").value.trim(),o=document.getElementById("price").value.trim();if(!t||!n||!o)return document.getElementById("status").textContent="âŒ Please complete all fields.",document.getElementById("status").style.color="red",void(!muted&&document.getElementById("error-sound").play());const a=new FormData;a.append("entry.1329060812",e),a.append("entry.10487006",t),a.append("entry.1024576307",n),a.append("entry.1777691282",o);const d=new XMLHttpRequest;d.open("POST",formURL,!0),d.send(a),document.getElementById("status").textContent="âœ… Submitted!",document.getElementById("status").style.color="green",!muted&&document.getElementById("success-sound").play(),document.getElementById("barcode").value="",document.getElementById("productName").value="",document.getElementById("quantity").value="",document.getElementById("price").value="",setTimeout(()=>{document.getElementById("status").textContent=""},3e3)}
